function [y, T, residual, g1] = dynamic_3(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(29, 1);
  T(2)=exp(y(59));
  T(3)=exp(y(54));
  T(4)=params(6)*T(2)*exp(y(14))*exp((-x(4)));
  residual(1)=(T(3))-(T(4));
  T(5)=exp(y(48));
  T(6)=exp(y(55));
  T(7)=exp(y(75));
  T(8)=exp(y(3));
  residual(2)=(T(6))-(T(5)*params(28)*T(7)*T(8));
  T(9)=exp(y(41));
  T(10)=exp(y(74));
  T(11)=exp(y(64));
  T(12)=exp(y(44));
  T(13)=T(12)^(1-params(7));
  residual(3)=(T(9))-(T(10)*(T(8)*T(7)*T(11))^params(7)*T(13));
  T(14)=exp(y(71));
  residual(4)=(T(14))-(params(32)+params(31)/(1+params(5))*T(11)^(1+params(5)));
  T(15)=exp(y(61));
  T(16)=T(8)*T(7)*params(31)*T(11)^params(5);
  residual(5)=(T(15)*params(7)*T(9)/T(11))-(T(16));
  T(17)=exp(y(45));
  residual(6)=(y(72))-(T(17)-T(8)*T(7)*T(14));
  T(18)=exp(y(42));
  residual(7)=(T(18))-(y(72)+T(7)*T(8));
  T(19)=exp(y(40));
  T(20)=exp(y(66));
  residual(8)=(T(9))-(T(19)*T(20));
  T(21)=exp(y(65));
  residual(9)=(T(21))-(1/T(15));
  T(22)=exp(y(89));
  T(23)=exp(y(77));
  T(24)=exp(y(67));
  T(25)=exp(y(116));
  T(26)=T(22)*params(1)*params(11)*T(25)^params(10);
  T(27)=T(23)^(params(12)*(-params(10)));
  T(28)=exp(y(106));
  residual(10)=(T(24))-(T(15)*T(19)+T(26)*T(27)*T(28));
  T(29)=exp(y(38));
  T(30)=exp(y(78));
  residual(11)=(T(23)^(1-params(10)))-(params(11)*T(29)^(params(12)*(1-params(10)))+(1-params(11))*T(30)^(1-params(10)));
  T(31)=exp(y(56));
  T(32)=exp(y(57));
  T(33)=exp(y(58));
  residual(12)=(T(33))-(T(32)/(params(29)-T(31)));
  T(34)=exp(y(53));
  residual(13)=(T(5)*T(18))-(T(33)*T(34));
  residual(14)=(T(34))-(T(3)+T(6));
  residual(15)=(T(5))-(1+params(9)*(T(17)/T(8)-params(32)));
  T(35)=params(11)*exp(y(27));
  T(36)=T(35)*T(29)^((-params(12))*params(10));
  T(37)=T(23)^params(10);
  T(38)=T(36)*T(37);
  T(39)=params(11)*T(29)^(params(12)*(1-params(11)));
  T(40)=T(23)^(params(11)-1);
  T(41)=(1-T(39)*T(40))/(1-params(11));
  residual(16)=(T(20))-(T(38)+(1-params(11))*T(41)^((-params(10))/(1-params(11))));
  T(42)=exp(y(52));
  T(43)=exp(y(69));
  residual(17)=(T(43))-(T(42)*T(25));
  residual(18)=(params(1)*T(42)*T(22))-(1);
  T(44)=exp(y(49));
  T(45)=exp(y(46));
  T(46)=params(3)*exp(y(7));
  T(47)=exp(y(85));
  T(48)=T(47)-T(45)*params(3);
  residual(19)=(T(44))-((T(45)-T(46))^(-params(2))-params(3)*params(1)*T(48)^(-params(2)));
  T(49)=T(8)*params(9)/2*(T(17)/T(8)-params(32))^2;
  residual(20)=(T(19))-(T(17)+T(45)+T(1)+T(49));
  T(50)=exp(y(30));
  T(51)=T(50)^params(15);
  T(52)=1/params(1)*T(23)^params(13);
  T(53)=(T(21)/(params(10)/(params(10)-1)))^params(14);
  T(54)=T(52)*T(53);
  T(55)=T(54)^(1-params(15));
  T(56)=exp(x(5));
  residual(21)=(T(43))-(T(51)*T(55)*T(56));
  T(57)=params(6)*params(1)*T(22)*exp(y(98))*exp(y(96));
  residual(22)=(T(32))-(1-params(6)+T(57));
  T(58)=exp(y(51));
  T(59)=exp(y(13));
  T(60)=exp(y(19));
  residual(23)=(T(2))-(T(59)+(T(58)-T(59))*T(60));
  T(61)=exp(y(60));
  residual(24)=(T(61))-(T(2)*T(33)/T(60));
  T(62)=exp(y(9));
  residual(25)=(T(58))-((T(15)*params(7)*T(9)/T(8)+T(7)*(T(5)-T(14)))/T(62));
  T(63)=exp(y(90));
  T(64)=params(6)*params(1)*T(22)*exp(y(99))*exp(y(95));
  residual(26)=(T(31))-(T(22)*params(1)*(1-params(6))*(T(63)-T(42))+T(64));
  T(65)=exp(y(68));
  T(66)=T(22)*params(1)*params(11)*T(25)^(params(10)-1);
  T(67)=T(23)^(params(12)*(1-params(10)));
  T(68)=exp(y(107));
  residual(27)=(T(65))-(T(19)+T(66)*T(67)*T(68));
  residual(28)=(T(30))-(T(23)*T(24)*params(10)/(params(10)-1)/T(65));
  T(69)=exp(y(50));
  T(70)=exp(y(10));
  residual(29)=(T(69))-(T(44)/T(70));
  T(71)=(-(T(13)*T(10)*T(8)*T(7)*T(11)*getPowerDeriv(T(8)*T(7)*T(11),params(7),1)));
  T(72)=getPowerDeriv(T(45)-T(46),(-params(2)),1);
  T(73)=getPowerDeriv(T(48),(-params(2)),1);
  T(74)=getPowerDeriv(T(54),1-params(15),1);
  T(75)=getPowerDeriv(T(41),(-params(10))/(1-params(11)),1);
if nargout > 3
    g1_v = NaN(109, 1);
g1_v(1)=(-((T(58)-T(59))*T(60)));
g1_v(2)=(-(T(2)*(-(T(33)*T(60)))/(T(60)*T(60))));
g1_v(3)=(-(T(5)*params(28)*T(7)*T(8)));
g1_v(4)=T(71);
g1_v(5)=(-T(16));
g1_v(6)=T(8)*T(7)*T(14);
g1_v(7)=(-(T(7)*T(8)));
g1_v(8)=(-(params(9)*(-(T(8)*T(17)))/(T(8)*T(8))));
g1_v(9)=(-(T(49)+T(8)*params(9)/2*(-(T(8)*T(17)))/(T(8)*T(8))*2*(T(17)/T(8)-params(32))));
g1_v(10)=(-((-(T(8)*T(15)*params(7)*T(9)))/(T(8)*T(8))/T(62)));
g1_v(11)=(-T(4));
g1_v(12)=(-((-((T(15)*params(7)*T(9)/T(8)+T(7)*(T(5)-T(14)))*T(62)))/(T(62)*T(62))));
g1_v(13)=(-T(38));
g1_v(14)=(-(T(56)*T(55)*T(50)*getPowerDeriv(T(50),params(15),1)));
g1_v(15)=(-(T(59)+T(60)*(-T(59))));
g1_v(16)=(-((-(T(44)*T(70)))/(T(70)*T(70))));
g1_v(17)=(-((-T(46))*T(72)));
g1_v(18)=(-(params(11)*T(29)*getPowerDeriv(T(29),params(12)*(1-params(10)),1)));
g1_v(19)=(-(T(37)*T(35)*T(29)*getPowerDeriv(T(29),(-params(12))*params(10),1)+(1-params(11))*(-(T(40)*params(11)*T(29)*getPowerDeriv(T(29),params(12)*(1-params(11)),1)))/(1-params(11))*T(75)));
g1_v(20)=T(3);
g1_v(21)=(-T(3));
g1_v(22)=T(6);
g1_v(23)=(-T(6));
g1_v(24)=T(9);
g1_v(25)=T(15)*params(7)*T(9)/T(11);
g1_v(26)=T(9);
g1_v(27)=(-(T(15)*params(7)*T(9)/T(8)/T(62)));
g1_v(28)=T(14);
g1_v(29)=T(8)*T(7)*T(14);
g1_v(30)=(-(T(7)*(-T(14))/T(62)));
g1_v(31)=T(71);
g1_v(32)=(-(params(31)/(1+params(5))*T(11)*getPowerDeriv(T(11),1+params(5),1)));
g1_v(33)=(-(T(15)*params(7)*T(9)*T(11)))/(T(11)*T(11))-T(8)*T(7)*params(31)*T(11)*getPowerDeriv(T(11),params(5),1);
g1_v(34)=(-T(17));
g1_v(35)=(-(params(9)*T(17)/T(8)));
g1_v(36)=(-(T(17)+T(8)*params(9)/2*T(17)/T(8)*2*(T(17)/T(8)-params(32))));
g1_v(37)=1;
g1_v(38)=(-1);
g1_v(39)=(-(T(19)*T(20)));
g1_v(40)=(-(T(15)*T(19)));
g1_v(41)=T(19);
g1_v(42)=(-T(19));
g1_v(43)=T(21);
g1_v(44)=(-(T(56)*T(51)*T(52)*T(21)/(params(10)/(params(10)-1))*getPowerDeriv(T(21)/(params(10)/(params(10)-1)),params(14),1)*T(74)));
g1_v(45)=T(15)*params(7)*T(9)/T(11);
g1_v(46)=(-((-T(15))/(T(15)*T(15))));
g1_v(47)=(-(T(15)*T(19)));
g1_v(48)=(-(T(15)*params(7)*T(9)/T(8)/T(62)));
g1_v(49)=(-((1-params(11))*T(30)*getPowerDeriv(T(30),1-params(10),1)));
g1_v(50)=T(30);
g1_v(51)=T(33);
g1_v(52)=(-(T(33)*T(34)));
g1_v(53)=(-(T(2)*T(33)/T(60)));
g1_v(54)=T(18);
g1_v(55)=T(5)*T(18);
g1_v(56)=(-(T(33)*T(34)));
g1_v(57)=T(34);
g1_v(58)=(-(T(5)*params(28)*T(7)*T(8)));
g1_v(59)=T(5)*T(18);
g1_v(60)=T(5);
g1_v(61)=(-(T(5)*T(7)/T(62)));
g1_v(62)=(-(T(19)*T(20)));
g1_v(63)=T(20);
g1_v(64)=T(43);
g1_v(65)=T(43);
g1_v(66)=(-(T(42)*T(25)));
g1_v(67)=params(1)*T(42)*T(22);
g1_v(68)=(-(T(22)*params(1)*(1-params(6))*(-T(42))));
g1_v(69)=T(44);
g1_v(70)=(-(T(44)/T(70)));
g1_v(71)=(-(T(45)*T(72)-params(3)*params(1)*(-(T(45)*params(3)))*T(73)));
g1_v(72)=(-T(45));
g1_v(73)=(-(T(28)*T(26)*T(23)*getPowerDeriv(T(23),params(12)*(-params(10)),1)));
g1_v(74)=T(23)*getPowerDeriv(T(23),1-params(10),1);
g1_v(75)=(-(T(36)*T(23)*getPowerDeriv(T(23),params(10),1)+(1-params(11))*T(75)*(-(T(39)*T(23)*getPowerDeriv(T(23),params(11)-1,1)))/(1-params(11))));
g1_v(76)=(-(T(56)*T(51)*T(74)*T(53)*1/params(1)*T(23)*getPowerDeriv(T(23),params(13),1)));
g1_v(77)=(-(T(68)*T(66)*T(23)*getPowerDeriv(T(23),params(12)*(1-params(10)),1)));
g1_v(78)=(-(T(23)*T(24)*params(10)/(params(10)-1)/T(65)));
g1_v(79)=(-(T(32)/(params(29)-T(31))));
g1_v(80)=T(32);
g1_v(81)=(-T(4));
g1_v(82)=T(2);
g1_v(83)=(-(T(2)*T(33)/T(60)));
g1_v(84)=T(61);
g1_v(85)=(-(T(58)*T(60)));
g1_v(86)=T(58);
g1_v(87)=(-((-(T(32)*(-T(31))))/((params(29)-T(31))*(params(29)-T(31)))));
g1_v(88)=T(31);
g1_v(89)=T(65);
g1_v(90)=(-(T(23)*(-(T(65)*T(24)*params(10)/(params(10)-1)))/(T(65)*T(65))));
g1_v(91)=T(24);
g1_v(92)=(-(T(23)*T(24)*params(10)/(params(10)-1)/T(65)));
g1_v(93)=T(69);
g1_v(94)=params(3)*params(1)*T(47)*T(73);
g1_v(95)=(-(T(28)*T(27)*T(22)*params(1)*params(11)*T(25)*getPowerDeriv(T(25),params(10),1)));
g1_v(96)=(-(T(42)*T(25)));
g1_v(97)=(-(T(68)*T(67)*T(22)*params(1)*params(11)*T(25)*getPowerDeriv(T(25),params(10)-1,1)));
g1_v(98)=(-T(57));
g1_v(99)=(-T(57));
g1_v(100)=(-T(64));
g1_v(101)=(-(T(22)*params(1)*(1-params(6))*T(63)));
g1_v(102)=(-T(64));
g1_v(103)=(-(T(66)*T(67)*T(68)));
g1_v(104)=(-(T(26)*T(27)*T(28)));
g1_v(105)=(-(T(26)*T(27)*T(28)));
g1_v(106)=params(1)*T(42)*T(22);
g1_v(107)=(-T(57));
g1_v(108)=(-(T(22)*params(1)*(1-params(6))*(T(63)-T(42))+T(64)));
g1_v(109)=(-(T(66)*T(67)*T(68)));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 29, 87);
end
end
